<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Gallery</title>
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.9.0.min.js"></script>
    <style>
        .menu {
            text-align: center;
            float: left;
            width: 150px;
        }
        #menu {
            margin-left:auto;
            margin-right:auto;
            width: 300px;
            height: 50px;
        }
    </style>
    <script>
        function upload() {
            var menu = document.getElementById("menu");
            menu.style.display = "none";

            var uploadFile = document.getElementById("uploadFile");
            uploadFile.style.display = "block";

            var title = document.getElementById("titleText");
            title.onclick = null;
        }
        function uploadInfo() {
            var uploadFile = document.getElementById("uploadFile");
            uploadFile.style.display = "none";

            var uploadInfo = document.getElementById("uploadInfo");
            uploadInfo.style.display = "block";
        }
    </script>
    <script type="text/javascript">
        $(function () {
            $("#submitFile").click(function () {
                var formData = new FormData($('#uploadForm')[0]);
                $.ajax({
                    type: 'post',
                    url: "/upload",
                    data: formData,
                    cache: false,   //上传文件无需缓存
                    processData: false, //用于对data参数进行序列化处理 这里必须false
                    contentType: false, //必须
                }).success(function (data) {
                    alert(data.msg);
                    uploadInfo();
                }).error(function () {
                    alert("> <");
                });
            });
        });
    </script>
    
</head>

<body>
    <div id="title">
        <h1 id="titleText"
            onclick="upload()"
            style="text-align:center;font-size:50px"
            >Gallery</h1>
    </div>
    <div id="menu">
        <h3 class="menu">Gallery</h3>
        <h3 class="menu">Books</h3>
    </div>
    <div id="uploadFile" style="display: none">
        <form id="uploadForm" enctype="multipart/form-data">
            <input type="file" name="file" multiple="multiple"/>
            <input id="submitFile" type="submit" value="sumbit!">
        </form>
    </div>
    <div id="uploadInfo" style="display: none">
        <form action="/uploadInfo" method="post">
             <label for="illustrator">illustrator</label>
            <input type="text" id="illustrator" />
            <br />
            <label for="collection">collection</label>
            <input type="text" id="collection" />
            <br />
            <label for="adultOnly">R18？</label>
            <input type="text" id="adultOnly" />
            <br />
            <label for="type">type</label>
            <input type="text" id="type" />
            <br />
            <input type="submit" value="sumbit!" accesskey="s">
        </form>
    </div>
</body>
</html>

